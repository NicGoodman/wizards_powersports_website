{% do view.registerCssFile(siteUrl ~ "assets/css/main.css") %}
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">

<head>
	<meta charset="UTF-8">
	<title>{% if title is defined %}{{ title }} - {% endif %}{{ siteName }}</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://unpkg.com/scrollreveal"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
	<link href="{{ siteUrl }}assets/css/multiselect.css" rel="stylesheet">
	<script src="https://kit.fontawesome.com/4b48b2c1b8.js" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>


	<script>
		function showNav() {
			var x = document.getElementById("main-nav-mobile");
			var y = document.body;
			var z = document.getElementById("navIcon");
			if (x.style.display === "none") {
				x.style.display = "block";
				z.classList.add("rotate-45");
				y.style.overflow = "hidden";
			} else {
				x.style.display = "none";
				z.classList.remove("rotate-45");
				y.style.overflow = "auto";
			}
		}
	</script>
</head>

<body class="bg-wz-grid flex flex-col justify-between min-h-screen">
	{% block body %}{% endblock %}
	<script src="assets/js/mixitup.min.js"></script>
	<script src="assets/js/mixitup-pagination.min.js"></script>
	<script src="assets/js/mixitup-multifilter.min.js"></script>
	<script type="text/javascript">

			var chevronYear = document.getElementById("chevron-year");
			var chevronHour = document.getElementById("chevron-hour");
			var chevronPrice = document.getElementById("chevron-price");
		$(function() {
			var sortOrder = 'asc',
				$toggleSortYear = $('.toggle-sort-year');
				$toggleSortHours = $('.toggle-sort-hours');
				$toggleSortPrice = $('.toggle-sort-price');

				var mixer = mixitup('.inventoryList', {
					multifilter: {
						enable: true // enable the multifilter extension for the mixer
					},
					pagination: {
						limit: 25 // impose a limit of 8 targets per page
					}
				});
			$toggleSortYear.on('click', function() {
				switch (sortOrder) {
					case 'asc':
						sortOrder = 'desc';
						chevronYear.classList.add("rotate-180");
						break;
					case 'desc':
						sortOrder = 'asc';
						chevronYear.classList.remove("rotate-180");
						break;
				}
				mixer.sort('sort', 'year:' + sortOrder);
			});
			$toggleSortHours.on('click', function() {
				switch (sortOrder) {
					case 'asc':
						sortOrder = 'desc';
						chevronHour.classList.add("rotate-180");
						break;
					case 'desc':
						sortOrder = 'asc';
						chevronHour.classList.remove("rotate-180");
						break;
				}
				mixer.sort('sort', 'hours:' + sortOrder);
			});
			$toggleSortPrice.on('click', function() {
				switch (sortOrder) {
					case 'asc':
						sortOrder = 'desc';
						chevronPrice.classList.add("rotate-180");
						break;
					case 'desc':
						sortOrder = 'asc';
						chevronPrice.classList.remove("rotate-180");
						break;
				}
				mixer.sort('sort', 'price:' + sortOrder);
			});
		});
	</script>
	<script type="text/javascript">
	// Check if the browser supports HTML5 history
var historySupport = !!(window.history && history.pushState);

// Add an event listener for filter clicks
$(function () {
	$('body').on('click', '.inventory-item a', onInventoryClick);
});

// Event handler for the filter click
function onInventoryClick (e)
{
	e.preventDefault();
	var $filter = $(e.currentTarget);
	var href = $filter.attr('href');
	if (historySupport) {
			// Update the browser's address bar
			history.pushState(null, null, href);
	}
	$.ajax($filter.attr('href'), {
			dataType : 'html',
			success : function (response) {
					refreshInventory(response);
			}
	});
}

function refreshInventory (html)
{

	// Update the <title> tag
	document.title = $(html).filter('title').text();

	// Update the .projects DOM element with new HTML
	var $html = $('<div />').append(html);
	$('.inventoryItem').html($html.find('.inventoryItem').html());

}
	</script>
</body>

</html>
